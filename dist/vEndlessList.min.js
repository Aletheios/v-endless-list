!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("vEndlessList",[],e):"object"==typeof exports?exports.vEndlessList=e():t.vEndlessList=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,i){"use strict";function n(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.abs(t-e)<i}Object.defineProperty(e,"__esModule",{value:!0}),e.isAlmostEqual=n;e.EVENTS={reachedTop:"reached-top",reachedBottom:"reached-bottom",scrollTo:"scroll-to"},e.mixin={props:{items:{type:Array,default:function(){return[]}},height:{type:String,default:"100%"}}}},function(t,e,i){t.exports=i(2)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),r=n(s),o=i(4),l=n(o);e.default={install:function(t){t.component("v-endless-virtual-list",r.default),t.component("v-endless-lazy-list",l.default)}},t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0);e.default={mixins:[n.mixin],props:{itemHeight:{type:[Number,String],required:!0,validator:function(t){return!isNaN(+t)&&+t>=0}}},data:function(){return{itemsStartIndex:0,itemsEndIndex:0,paddingTop:0}},computed:{itemStyle:function(){return{style:{height:this.itemHeight+"px",overflow:"hidden"}}}},mounted:function(){this.$refs.container.addEventListener("scroll",this.onScroll),this.onScroll(),this.$on(n.EVENTS.scrollTo,this.scrollTo)},methods:{onScroll:function(){var t=this.$refs.container.scrollTop,e=this.$refs.container.clientHeight;if(this.itemsStartIndex=Math.floor(t/this.itemHeight),this.itemsEndIndex=this.itemsStartIndex+Math.ceil(e/this.itemHeight),this.paddingTop=this.itemsStartIndex*this.itemHeight,0===t&&this.$listeners.hasOwnProperty(n.EVENTS.reachedTop))this.$emit(n.EVENTS.reachedTop);else if(this.$listeners.hasOwnProperty(n.EVENTS.reachedBottom)){var i=this.itemHeight*this.items.length;(0,n.isAlmostEqual)(i,t+e)&&this.$emit(n.EVENTS.reachedBottom)}},scrollTo:function(t){"top"===t?this.$refs.container.scrollTop=0:"bottom"===t?this.$refs.container.scrollTop=(this.items.length-1)*this.itemHeight:!isNaN(+t)&&t>=0&&t<this.items.length&&(this.$refs.container.scrollTop=t*this.itemHeight)}},render:function(t){var e=this,i=void 0;if(0===this.items.length)i=[this.$slots.emptyList];else{var n=this.$scopedSlots.default||function(){},s=this.items.slice(this.itemsStartIndex,this.itemsEndIndex+1).map(function(i){return t("div",e.itemStyle,[n(i)])});i=[t("div",{style:{boxSizing:"border-box",paddingTop:this.paddingTop+"px",height:this.itemHeight*this.items.length+"px"}},s)]}return t("div",{ref:"container",style:{height:this.height,overflowY:"scroll"}},i)}},t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0);e.default={mixins:[n.mixin],props:{increment:{type:[Number,String],default:10,validator:function(t){return!isNaN(+t)&&+t>=0}},loadingThreshold:{type:[Number,String],default:10,validator:function(t){return!isNaN(+t)&&+t>=0}},listChangeBehavior:{type:String,default:"reset",validator:function(t){return["reset","keep"].includes(t)}}},data:function(){return{limitIndex:+this.increment}},computed:{numberOfItems:function(){return this.items.length}},watch:{numberOfItems:function(t){"reset"===this.listChangeBehavior?(this.limitIndex=Math.min(t,+this.increment),this.$refs.container.scrollTop=0):this.limitIndex=Math.min(t,this.limitIndex)}},mounted:function(){this.$refs.container.addEventListener("scroll",this.onScroll)},methods:{onScroll:function(){var t=this.$refs.container;(0,n.isAlmostEqual)(t.scrollTop,t.scrollHeight-t.offsetHeight,+this.loadingThreshold)?(this.limitIndex=Math.min(this.numberOfItems,+this.increment+this.limitIndex),this.$listeners.hasOwnProperty(n.EVENTS.reachedBottom)&&this.$emit(n.EVENTS.reachedBottom)):0===t.scrollTop&&this.$listeners.hasOwnProperty(n.EVENTS.reachedTop)&&this.$emit(n.EVENTS.reachedTop)}},render:function(t){var e=void 0;if(0===this.items.length)e=[this.$slots.emptyList];else{var i=this.$scopedSlots.default||function(){};e=this.items.slice(0,this.limitIndex).map(function(e){return t("div",{},[i(e)])})}return t("div",{ref:"container",style:{height:this.height,overflowY:"scroll"}},e)}},t.exports=e.default}])});