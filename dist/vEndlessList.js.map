{"version":3,"sources":["webpack://vEndlessList/webpack/universalModuleDefinition","webpack://vEndlessList/webpack/bootstrap","webpack://vEndlessList/./src/commons.js","webpack://vEndlessList/./src/index.js","webpack://vEndlessList/./src/lazyList.js","webpack://vEndlessList/./src/virtualList.js"],"names":["EVENTS","reachedTop","reachedBottom","scrollTo","SCROLL_TARGETS","top","bottom","mixin","props","items","type","Array","default","height","String","methods","isAlmostEqual","value1","value2","threshold","Math","abs","install","app","h","component","mixins","increment","Number","validator","value","isNaN","loadingThreshold","listChangeBehavior","includes","emits","data","limitIndex","computed","numberOfItems","length","watch","newValue","min","$refs","container","scrollTop","max","mounted","addEventListener","_onScroll","scrollHeight","offsetHeight","$emit","index","$nextTick","children","scrollIntoView","render","renderSlot","$slots","slice","map","item","ref","style","overflowY","itemHeight","required","itemsStartIndex","itemsEndIndex","paddingTop","itemStyle","overflow","init","containerHeight","clientHeight","floor","ceil","totalHeight","itemsList","boxSizing"],"mappings":"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","file":"vEndlessList.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"vEndlessList\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vEndlessList\"] = factory();\n\telse\n\t\troot[\"vEndlessList\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","export const EVENTS = {\n    reachedTop: 'reached-top',\n    reachedBottom: 'reached-bottom',\n    scrollTo: 'scroll-to'\n};\n\nexport const SCROLL_TARGETS = {\n    top: 'top',\n    bottom: 'bottom'\n};\n\nexport const mixin = {\n    props: {\n        items: {\n            type: Array,\n            default: () => []\n        },\n        height: {\n            type: String,\n            default: '100%'\n        }\n    },\n\n    methods: {\n        isAlmostEqual(value1, value2, threshold = 1) {\n            return Math.abs(value1 - value2) < threshold;\n        }\n    }\n};","import getVirtualList from './virtualList';\nimport getLazyList from './lazyList';\n\nexport default {\n    install(app, { h }) {\n        app.component('v-endless-virtual-list', getVirtualList(h));\n        app.component('v-endless-lazy-list', getLazyList(h));\n    }\n};","import { EVENTS, SCROLL_TARGETS, mixin } from './commons';\n\nexport default h => ({\n    mixins: [mixin],\n\n    props: {\n        increment: {\n            type: [Number, String],\n            default: 10,\n            validator(value) {\n                return !isNaN(+value) && +value >= 0;\n            }\n        },\n        loadingThreshold: {\n            type: [Number, String],\n            default: 10,\n            validator(value) {\n                return !isNaN(+value) && +value >= 0;\n            }\n        },\n        listChangeBehavior: {\n            type: String,\n            default: 'reset',\n            validator(value) {\n                return ['reset', 'keep'].includes(value);\n            }\n        }\n    },\n\n    emits: [\n        EVENTS.reachedTop,\n        EVENTS.reachedBottom\n    ],\n\n    data() {\n        return {\n            limitIndex: +this.increment\n        };\n    },\n\n    computed: {\n        numberOfItems() {\n            return this.items.length;\n        }\n    },\n\n    watch: {\n        numberOfItems(newValue) {\n            if (this.listChangeBehavior === 'reset') {\n                this.limitIndex = Math.min(newValue, +this.increment);\n                this.$refs.container.scrollTop = 0;\n            }\n            else {\n                this.limitIndex = Math.max(+this.increment, Math.min(newValue, this.limitIndex));\n            }\n        }\n    },\n\n    mounted() {\n        this.$refs.container.addEventListener('scroll', this._onScroll);\n    },\n\n    methods: {\n        _onScroll() {\n            const container = this.$refs.container;\n            \n            if (this.isAlmostEqual(container.scrollTop, container.scrollHeight - container.offsetHeight, +this.loadingThreshold)) {\n                this.limitIndex = Math.min(this.numberOfItems, +this.increment + this.limitIndex);\n                this.$emit(EVENTS.reachedBottom);\n            }\n            else if (container.scrollTop === 0) {\n                this.$emit(EVENTS.reachedTop);\n            }\n        },\n\n        scrollTo(index) {\n            const container = this.$refs.container;\n\n            if (index === SCROLL_TARGETS.top) {\n                container.scrollTop = 0;\n            }\n            else if (index === SCROLL_TARGETS.bottom) {\n                this.limitIndex = this.items.length;\n                this.$nextTick(() => (container.scrollTop = container.scrollHeight));\n            }\n            else if (!isNaN(+index) && index >= 0 && index < this.items.length) {\n                if (index >= this.limitIndex - this.increment) {\n                    this.limitIndex = Math.min(this.numberOfItems, +this.increment + index);\n                }\n                this.$nextTick(() => container.children[index].scrollIntoView());\n            }\n        }\n    },\n\n    render() {\n        let children;\n        if (this.items.length === 0) {\n            const renderSlot = this.$slots['empty-list'];\n            children = [renderSlot()];\n        }\n        else {\n            const renderSlot = this.$slots.default || (() => { });\n            children = this.items\n                .slice(0, this.limitIndex)\n                .map(item => h('div', { }, [renderSlot(item)]));\n        }\n        \n        return h('div', {\n            ref: 'container',\n            style: {\n                height: this.height,\n                overflowY: 'scroll'\n            }\n        }, children);\n    }\n});","import { EVENTS, SCROLL_TARGETS, mixin } from './commons';\n\nexport default h => ({\n    mixins: [mixin],\n\n    props: {\n        itemHeight: {\n            type: [Number, String],\n            required: true,\n            validator(value) {\n                return !isNaN(+value) && +value >= 0;\n            }\n        }\n    },\n\n    emits: [\n        EVENTS.reachedTop,\n        EVENTS.reachedBottom\n    ],\n\n    data() {\n        return {\n            itemsStartIndex: 0,\n            itemsEndIndex: 0,\n            paddingTop: 0\n        };\n    },\n\n    computed: {\n        itemStyle() {\n            return {\n                style: {\n                    height: this.itemHeight + 'px',\n                    overflow: 'hidden'\n                }\n            };\n        }\n    },\n\n    mounted() {\n        this.$refs.container.addEventListener('scroll', this._onScroll);\n        this._onScroll(true);\n    },\n\n    methods: {\n        _onScroll(init) {\n            const scrollTop = this.$refs.container.scrollTop;\n            const containerHeight = this.$refs.container.clientHeight;\n\n            this.itemsStartIndex = Math.floor(scrollTop / this.itemHeight);\n            this.itemsEndIndex = this.itemsStartIndex + Math.ceil(containerHeight / this.itemHeight);\n            this.paddingTop = this.itemsStartIndex * this.itemHeight;\n\n            if (scrollTop === 0) {\n                if (init !== true) {\n                    this.$emit(EVENTS.reachedTop);\n                }\n            }\n            else {\n                const totalHeight = this.itemHeight * this.items.length;\n                if (this.isAlmostEqual(totalHeight, scrollTop + containerHeight)) {\n                    this.$emit(EVENTS.reachedBottom);\n                }\n            }\n        },\n\n        scrollTo(index) {\n            if (index === SCROLL_TARGETS.top) {\n                this.$refs.container.scrollTop = 0;\n            }\n            else if (index === SCROLL_TARGETS.bottom) {\n                this.$refs.container.scrollTop = (this.items.length - 1) * this.itemHeight;\n            }\n            else if (!isNaN(+index) && index >= 0 && index < this.items.length) {\n                this.$refs.container.scrollTop = index * this.itemHeight;\n            }\n        }\n    },\n\n    render() {\n        let children;\n        if (this.items.length === 0) {\n            const renderSlot = this.$slots['empty-list'];\n            children = [renderSlot()];\n        }\n        else {\n            const renderSlot = this.$slots.default || (() => { });\n            const itemsList = this.items\n                .slice(this.itemsStartIndex, this.itemsEndIndex + 1)\n                .map(item => h('div', this.itemStyle, [renderSlot(item)]));\n\n            children = [h('div', {\n                style: {\n                    boxSizing: 'border-box',\n                    paddingTop: this.paddingTop + 'px',\n                    height: this.itemHeight * this.items.length + 'px'\n                }\n            }, itemsList)];\n        }\n        \n        return h('div', {\n            ref: 'container',\n            style: {\n                height: this.height,\n                overflowY: 'scroll'\n            }\n        }, children);\n    }\n});"],"sourceRoot":""}