{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap ab32f313dd0eebf20661","webpack:///./src/commons.js","webpack:///./src/index.js","webpack:///./src/virtualList.js","webpack:///./src/lazyList.js"],"names":["isAlmostEqual","EVENTS","reachedTop","reachedBottom","scrollTo","value1","value2","threshold","Math","abs","mixin","props","items","type","Array","default","height","String","install","Vue","component","virtualList","lazyList","mixins","itemHeight","Number","required","validator","value","isNaN","data","itemsStartIndex","itemsEndIndex","paddingTop","computed","itemStyle","style","overflow","mounted","$refs","container","addEventListener","onScroll","$on","methods","scrollTop","containerHeight","clientHeight","floor","ceil","$listeners","hasOwnProperty","$emit","totalHeight","length","index","render","h","children","$slots","emptyList","renderSlot","$scopedSlots","itemsList","slice","map","item","boxSizing","ref","overflowY","increment","loadingThreshold","listChangeBehavior","includes","limitIndex","numberOfItems","watch","newValue","min","scrollHeight","offsetHeight"],"mappings":"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","file":"vEndlessList.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"vEndlessList\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vEndlessList\"] = factory();\n\telse\n\t\troot[\"vEndlessList\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ab32f313dd0eebf20661","export const EVENTS = {\n    reachedTop: 'reached-top',\n    reachedBottom: 'reached-bottom',\n    scrollTo: 'scroll-to'\n};\n\nexport function isAlmostEqual(value1, value2, threshold = 1) {\n    return Math.abs(value1 - value2) < threshold;\n}\n\nexport const mixin = {\n    props: {\n        items: {\n            type: Array,\n            default: () => []\n        },\n        height: {\n            type: String,\n            default: '100%'\n        }\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/commons.js","import virtualList from '@/virtualList';\nimport lazyList from '@/lazyList';\n\nexport default {\n    install(Vue) {\n        Vue.component('v-endless-virtual-list', virtualList);\n        Vue.component('v-endless-lazy-list', lazyList);\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import { EVENTS, isAlmostEqual, mixin } from '@/commons';\n\nexport default {\n    mixins: [mixin],\n\n    props: {\n        itemHeight: {\n            type: [Number, String],\n            required: true,\n            validator(value) {\n                return !isNaN(+value) && +value >= 0;\n            }\n        }\n    },\n\n    data() {\n        return {\n            itemsStartIndex: 0,\n            itemsEndIndex: 0,\n            paddingTop: 0\n        };\n    },\n\n    computed: {\n        itemStyle() {\n            return {\n                style: {\n                    height: this.itemHeight + 'px',\n                    overflow: 'hidden'\n                }\n            };\n        }\n    },\n\n    mounted() {\n        this.$refs.container.addEventListener('scroll', this.onScroll);\n        this.onScroll();\n\n        this.$on(EVENTS.scrollTo, this.scrollTo);\n    },\n\n    methods: {\n        onScroll() {\n            const scrollTop = this.$refs.container.scrollTop;\n            const containerHeight = this.$refs.container.clientHeight;\n\n            this.itemsStartIndex = Math.floor(scrollTop / this.itemHeight);\n            this.itemsEndIndex = this.itemsStartIndex + Math.ceil(containerHeight / this.itemHeight);\n            this.paddingTop = this.itemsStartIndex * this.itemHeight;\n\n            if (scrollTop === 0 && this.$listeners.hasOwnProperty(EVENTS.reachedTop)) {\n                this.$emit(EVENTS.reachedTop);\n            }\n            else if (this.$listeners.hasOwnProperty(EVENTS.reachedBottom)) {\n                const totalHeight = this.itemHeight * this.items.length;\n                if (isAlmostEqual(totalHeight, scrollTop + containerHeight)) {\n                    this.$emit(EVENTS.reachedBottom);\n                }\n            }\n        },\n\n        scrollTo(index) {\n            if (index === 'top') {\n                this.$refs.container.scrollTop = 0;\n            }\n            else if (index === 'bottom') {\n                this.$refs.container.scrollTop = (this.items.length - 1) * this.itemHeight;\n            }\n            else if (!isNaN(+index) && index >= 0 && index < this.items.length) {\n                this.$refs.container.scrollTop = index * this.itemHeight;\n            }\n        }\n    },\n\n    render(h) {\n        let children;\n        if (this.items.length === 0) {\n            children = [this.$slots.emptyList];\n        }\n        else {\n            const renderSlot = this.$scopedSlots.default || (() => { });\n            const itemsList = this.items\n                .slice(this.itemsStartIndex, this.itemsEndIndex + 1)\n                .map(item => h('div', this.itemStyle, [renderSlot(item)]));\n\n            children = [h('div', {\n                style: {\n                    boxSizing: 'border-box',\n                    paddingTop: this.paddingTop + 'px',\n                    height: this.itemHeight * this.items.length + 'px'\n                }\n            }, itemsList)];\n        }\n        \n        return h('div', {\n            ref: 'container',\n            style: {\n                height: this.height,\n                overflowY: 'scroll'\n            }\n        }, children);\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/virtualList.js","import { EVENTS, isAlmostEqual, mixin } from '@/commons';\n\nexport default {\n    mixins: [mixin],\n\n    props: {\n        increment: {\n            type: [Number, String],\n            default: 10,\n            validator(value) {\n                return !isNaN(+value) && +value >= 0;\n            }\n        },\n        loadingThreshold: {\n            type: [Number, String],\n            default: 10,\n            validator(value) {\n                return !isNaN(+value) && +value >= 0;\n            }\n        },\n        listChangeBehavior: {\n            type: String,\n            default: 'reset',\n            validator(value) {\n                return ['reset', 'keep'].includes(value);\n            }\n        }\n    },\n\n    data() {\n        return {\n            limitIndex: +this.increment\n        };\n    },\n\n    computed: {\n        numberOfItems() {\n            return this.items.length;\n        }\n    },\n\n    watch: {\n        numberOfItems(newValue) {\n            if (this.listChangeBehavior === 'reset') {\n                this.limitIndex = Math.min(newValue, +this.increment);\n                this.$refs.container.scrollTop = 0;\n            }\n            else {\n                this.limitIndex = Math.min(newValue, this.limitIndex);\n            }\n        }\n    },\n\n    mounted() {\n        this.$refs.container.addEventListener('scroll', this.onScroll);\n    },\n\n    methods: {\n        onScroll() {\n            const container = this.$refs.container;\n            \n            if (isAlmostEqual(container.scrollTop, container.scrollHeight - container.offsetHeight, +this.loadingThreshold)) {\n                this.limitIndex = Math.min(this.numberOfItems, +this.increment + this.limitIndex);\n\n                if (this.$listeners.hasOwnProperty(EVENTS.reachedBottom)) {\n                    this.$emit(EVENTS.reachedBottom);\n                }\n            }\n            else if (container.scrollTop === 0 && this.$listeners.hasOwnProperty(EVENTS.reachedTop)) {\n                this.$emit(EVENTS.reachedTop);\n            }\n        }\n    },\n\n    render(h) {\n        let children;\n        if (this.items.length === 0) {\n            children = [this.$slots.emptyList];\n        }\n        else {\n            const renderSlot = this.$scopedSlots.default || (() => { });\n            children = this.items\n                .slice(0, this.limitIndex)\n                .map(item => h('div', { }, [renderSlot(item)]));\n        }\n        \n        return h('div', {\n            ref: 'container',\n            style: {\n                height: this.height,\n                overflowY: 'scroll'\n            }\n        }, children);\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/lazyList.js"],"sourceRoot":""}